# description	: Location and timezone database and weather-lookup library
# depends	: glib gobject-introspection json-glib libxml2 libsoup3
# depends	: meson vala geocode-glib py3-gobject3

name=libgweather
version=4.4.4
release=1
source="https://download.gnome.org/sources/$name/${version%.*}/$name-$version.tar.xz
        https://www.linuxfromscratch.org/patches/blfs/svn/libgweather-4.4.4-upstream_fix-1.patch"

build() {
	cd $name-$version

    patch -Np1 -i ../libgweather-4.4.4-upstream_fix-1.patch

	meson setup \
        --prefix=/usr \
        --buildtype=plain \
        -D gtk_doc=false \
        build
	ninja -C build
}

package() {
    cd $name-$version

    DESTDIR="$PKG" ninja -C build install
}