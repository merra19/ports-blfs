# description	: Transport Independent RPC library (SunRPC replacement)
# depends	: xz

name=libtirpc
version=1.3.6
release=1
source="https://downloads.sourceforge.net/libtirpc/$name-$version.tar.bz2
        https://www.linuxfromscratch.org/patches/blfs/svn/libtirpc-1.3.6-gcc15_fixes-1.patch"
backup="etc/netconfig"

build() {
    cd $name-$version

    #  Apply a patch to make the package compatible with gcc-15
    patch -Np1 -i ../libtirpc-1.3.6-gcc15_fixes-1.patch

    ./configure \
        --prefix=/usr \
        --sysconfdir=/etc \
        --disable-static \
        --disable-gssapi 
    make
}

package() {
    cd $name-$version

    make DESTDIR="$PKG" install
}